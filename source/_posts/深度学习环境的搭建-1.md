title: 深度学习环境的搭建
author: Strive
tags:
  - 深度学习
  - 环境搭建
categories:
  - 深度学习
date: 2021-09-02 16:09:00
---
#### 前言
总算是研究生开学了，之前在家混吃等死混了整整9个月也没学到什么有用的东西，~~停止摸鱼永远从明天开始。~~进入实验室的第一个小任务就是搭建深度学习的相关环境，由于之前毕设有过相关的经验所以完成起来困难不是很大。问了下师兄师姐的环境是  
> + Python版本：3.6.0  
> + Tensorflow版本：1.14  


#### 1 Python的安装
##### 1.1 Anaconda的安装与使用
个人理解Anaconda是一个软件包管理工具，可以根据实际需要建立多个不同版本、不同软件包的虚拟环境。在代码编辑器如Pycharm中可以方便的切换环境。  
在官网下载最新的版本。Anaconda下载地址：<https://www.anaconda.com/download/>，建议安装路径不要有中文，目录不要放得太深。最好更改pip源和conda源为国内服务器用以加速后期库的下载。
##### 1.2 修改pip和conda的镜像源
由于一些~~不可抗力~~，直接从pip和conda下载一些库可能会有点慢，因此有必要将pip和conda修改为国内镜像源以加速下载。  
###### 1.2.1 修改pip镜像源
在 user 目录中创建一个 pip 目录，如： C:\Users\xx\pip，xx是用户名，新建文件pip.ini（建议先新建成 .txt 文件，之后将后缀名改回），内容如下：  

```
[global]
timeout = 6000
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
trusted-host = https://pypi.tuna.tsinghua.edu.cn
```

![upload successful](/images/框架搭建1.png)  
###### 1.2.2 修改conda镜像源
进入conda的命令行终端，输入以下命令（逐条执行）:
![upload successful](/images/框架搭建2.png)  

```
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --set show_channel_urls yes
``` 


打开c:\users\系统用户名 目录，找到.condarc文件。.condarc 内容如下，表示成功：

![upload successful](/images/框架搭建3.png)  

##### 1.3 建立Python环境  

镜像源设置完毕之后就可以进行Python环境的设置了，在Anaconda软件中选择environments，点击create建立，并选择Python版本为所需版本（本次选择的版本是3.6，在帮同学搭建的时候出现了下载最新版Anaconda里面只有python3.8版本的问题，实测可以先选择3.8版本然后再降级）。  

![upload successful](/images/框架搭建4.png)    

建立完成之后我们就可以打开终端用命令行的方法进行相关库的安装。  

##### 1.4 Python降级与安装相关库
###### 1.4.1 Python降级

如上文所言，由于官网下载的最新版Anaconda只带了3.8版本的Python，而导师建议我们环境和师兄师姐们保持一致，需要降级到3.6版本。  
还是进入到conda命令行工具，通过命令进入到已经搭建好的虚拟环境  

```
conda activate 之前建立的环境名  
```

![upload successful](/images/框架搭建5.png)  
输入以下命令，Python版本可以改成需要的版本号，如需要3.7可以直接将3.6改成3.7  

```
conda install python==3.6
```

回车执行之后可以看到版本号已经降级成功  

![upload successful](/images/框架搭建6.png)  
###### 1.4.2 安装Tensorflow  

```
pip install tensorflow==1.14(版本号可改成需要的版本)
```  

输入pip list查看已经安装的包列表，已经有了tensorflow1.14至此安装结束

![upload successful](/images/框架搭建7.png)  
PS：看网上有问题说numpy版本需要和tensorflow版本匹配，高版本的numpy可能会出现问题，由于我还没尝试使用因此暂且搁置，有问题再填坑  
#### 2 编译器Pycharm的使用
###### 1.2.1 安装Pycharm
没什么，安装community社区版本即可  
###### 1.2.2 在Pycharm中设置解释器为conda虚拟环境
File->Settings->Project:code->Project Interpreter点击add  

![upload successful](/images/框架搭建8.png)
选择conda environments,在existing enviroments中找到所创建环境名文件夹下面的Python.exe再点击ok和apply即可。

![upload successful](/images/环境搭建8.png)  
#### 结语
至此整个环境应该就已经搭建完毕，~~出现什么问题以后会来填坑罢。希望以后也能保持博客的高强度更新。~~